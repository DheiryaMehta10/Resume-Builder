<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume Builder</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        .resume-section {
            transition: all 0.3s ease;
        }
        
        .resume-section:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }
        
        .floating-btn {
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .preview-mode {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            min-height: 1123px;
            padding: 40px;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="gradient-bg text-white py-8">
        <div class="container mx-auto px-4">
            <div class="text-center">
                <h1 class="text-4xl font-bold mb-4">Resume Builder</h1>
                <p class="text-xl opacity-90">Create stunning resumes that gets you hired</p>
            </div>
        </div>
    </div>

    <div class="container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Left Sidebar - Form -->
            <div class="lg:col-span-2 space-y-6">
                <!-- Personal Information -->
                <div class="bg-white rounded-xl shadow-md resume-section p-6">
                    <h2 class="text-2xl font-semibold mb-4 text-gray-800">Personal Information</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Full Name</label>
                            <input type="text" id="fullName" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="John Doe">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Job Title</label>
                            <input type="text" id="jobTitle" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Software Engineer">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                            <input type="email" id="email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="john@example.com">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Phone</label>
                            <input type="tel" id="phone" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="+1 (555) 123-4567">
                        </div>
                        <div class="md:col-span-2">
                            <label class="block text-sm font-medium text-gray-700 mb-2">Location</label>
                            <input type="text" id="location" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="San Francisco, CA">
                        </div>
                        <div class="md:col-span-2">
                            <label class="block text-sm font-medium text-gray-700 mb-2">LinkedIn URL</label>
                            <input type="url" id="linkedin" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="https://linkedin.com/in/johndoe">
                        </div>
                        <div class="md:col-span-2">
                            <label class="block text-sm font-medium text-gray-700 mb-2">GitHub/Portfolio</label>
                            <input type="url" id="portfolio" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="https://github.com/johndoe">
                        </div>
                    </div>
                </div>

                <!-- Professional Summary -->
                <div class="bg-white rounded-xl shadow-md resume-section p-6">
                    <h2 class="text-2xl font-semibold mb-4 text-gray-800">Professional Summary</h2>
                    <textarea id="summary" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Experienced software engineer with 5+ years in full-stack development..."></textarea>
                </div>

                <!-- Work Experience -->
                <div class="bg-white rounded-xl shadow-md resume-section p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-2xl font-semibold text-gray-800">Work Experience</h2>
                        <button onclick="addExperience()" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">
                            + Add Experience
                        </button>
                    </div>
                    <div id="experience-container"></div>
                </div>

                <!-- Education -->
                <div class="bg-white rounded-xl shadow-md resume-section p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-2xl font-semibold text-gray-800">Education</h2>
                        <button onclick="addEducation()" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">
                            + Add Education
                        </button>
                    </div>
                    <div id="education-container"></div>
                </div>

                <!-- Skills -->
                <div class="bg-white rounded-xl shadow-md resume-section p-6">
                    <h2 class="text-2xl font-semibold mb-4 text-gray-800">Skills</h2>
                    <div class="mb-4">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Add Skills (comma separated)</label>
                        <input type="text" id="skillsInput" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="JavaScript, React, Node.js, Python">
                    </div>
                    <div id="skills-display" class="flex flex-wrap gap-2"></div>
                </div>

                <!-- Projects -->
                <div class="bg-white rounded-xl shadow-md resume-section p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-2xl font-semibold text-gray-800">Projects</h2>
                        <button onclick="addProject()" class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors">
                            + Add Project
                        </button>
                    </div>
                    <div id="projects-container"></div>
                </div>

                <!-- LLM Enhancement -->
                <div class="bg-white rounded-xl shadow-md resume-section p-6">
                    <h2 class="text-2xl font-semibold mb-4 text-gray-800">AI Enhancement</h2>
                    <p class="text-gray-600 mb-4">Get AI-powered suggestions to improve your resume content</p>
                    <div class="space-y-4">
                        <select id="enhanceSection" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            <option value="">Select section to enhance</option>
                            <option value="summary">Professional Summary</option>
                            <option value="experience">Work Experience</option>
                            <option value="skills">Skills Description</option>
                        </select>
                        <button onclick="enhanceContent()" class="w-full bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-colors">
                            Enhance with AI
                        </button>
                    </div>
                    <div id="enhancement-result" class="mt-4 p-4 bg-gray-50 rounded-lg hidden">
                        <h3 class="font-semibold mb-2">AI Suggestions:</h3>
                        <p id="enhancement-text" class="text-gray-700"></p>
                    </div>
                </div>
            </div>

            <!-- Right Sidebar - Preview & Actions -->
            <div class="space-y-6">
                <!-- Preview Panel -->
                <div class="bg-white rounded-xl shadow-md p-6 sticky top-6">
                    <h2 class="text-2xl font-semibold mb-4 text-gray-800">Resume Preview</h2>
                    <div class="preview-mode" id="resume-preview">
                        <!-- Preview content will be generated here -->
                    </div>
                    
                    <div class="mt-6 space-y-3">
                        <button onclick="generatePDF()" class="w-full bg-green-500 text-white px-4 py-3 rounded-lg hover:bg-green-600 transition-colors font-semibold">
                            üìÑ Download PDF Resume
                        </button>
                        <button onclick="saveResume()" class="w-full bg-blue-500 text-white px-4 py-3 rounded-lg hover:bg-blue-600 transition-colors">
                            üíæ Save Resume
                        </button>
                        <button onclick="loadResume()" class="w-full bg-gray-500 text-white px-4 py-3 rounded-lg hover:bg-gray-600 transition-colors">
                            üìÇ Load Saved Resume
                        </button>
                        <button onclick="clearForm()" class="w-full bg-red-500 text-white px-4 py-3 rounded-lg hover:bg-red-600 transition-colors">
                            üóëÔ∏è Clear Form
                        </button>
                    </div>
                </div>

                <!-- Tips -->
                <div class="bg-yellow-50 border border-yellow-200 rounded-xl p-6">
                    <h3 class="text-lg font-semibold text-yellow-800 mb-2">üí° Pro Tips</h3>
                    <ul class="text-yellow-700 text-sm space-y-1">
                        <li>‚Ä¢ Use action verbs in your experience descriptions</li>
                        <li>‚Ä¢ Quantify achievements with numbers when possible</li>
                        <li>‚Ä¢ Keep your resume to 1-2 pages maximum</li>
                        <li>‚Ä¢ Tailor your resume for each job application</li>
                        <li>‚Ä¢ Use the AI enhancement for professional wording</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global state
        let resumeData = {
            personal: {},
            experiences: [],
            education: [],
            skills: [],
            projects: []
        };

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            loadResume();
            updatePreview();
            
            // Skills input handler
            document.getElementById('skillsInput').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    addSkills();
                }
            });
        });

        // Experience management
        function addExperience(exp = {}) {
            const container = document.getElementById('experience-container');
            const id = Date.now();
            const expHtml = `
                <div class="experience-item border border-gray-200 rounded-lg p-4 mb-4" data-id="${id}">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="font-semibold">Work Experience</h3>
                        <button onclick="removeItem(this)" class="text-red-500 hover:text-red-700">
                            üóëÔ∏è
                        </button>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Company</label>
                            <input type="text" value="${exp.company || ''}" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="Google">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Position</label>
                            <input type="text" value="${exp.position || ''}" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="Senior Developer">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Start Date</label>
                            <input type="month" value="${exp.startDate || ''}" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">End Date</label>
                            <input type="month" value="${exp.endDate || ''}" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="Present">
                        </div>
                    </div>
                    <div class="mt-3">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                        <textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="Describe your responsibilities and achievements...">${exp.description || ''}</textarea>
                    </div>
                </div>
            `;
            container.insertAdjacentHTML('beforeend', expHtml);
        }

        // Education management
        function addEducation(edu = {}) {
            const container = document.getElementById('education-container');
            const id = Date.now();
            const eduHtml = `
                <div class="education-item border border-gray-200 rounded-lg p-4 mb-4" data-id="${id}">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="font-semibold">Education</h3>
                        <button onclick="removeItem(this)" class="text-red-500 hover:text-red-700">
                            üóëÔ∏è
                        </button>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Institution</label>
                            <input type="text" value="${edu.institution || ''}" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="Stanford University">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Degree</label>
                            <input type="text" value="${edu.degree || ''}" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="Bachelor of Science">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Field of Study</label>
                            <input type="text" value="${edu.field || ''}" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="Computer Science">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Graduation Year</label>
                            <input type="number" value="${edu.graduationYear || ''}" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="2020">
                        </div>
                    </div>
                </div>
            `;
            container.insertAdjacentHTML('beforeend', eduHtml);
        }

        // Projects management
        function addProject(proj = {}) {
            const container = document.getElementById('projects-container');
            const id = Date.now();
            const projHtml = `
                <div class="project-item border border-gray-200 rounded-lg p-4 mb-4" data-id="${id}">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="font-semibold">Project</h3>
                        <button onclick="removeItem(this)" class="text-red-500 hover:text-red-700">
                            üóëÔ∏è
                        </button>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Project Name</label>
                            <input type="text" value="${proj.name || ''}" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="E-commerce Platform">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Technologies</label>
                            <input type="text" value="${proj.technologies || ''}" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="React, Node.js, MongoDB">
                        </div>
                    </div>
                    <div class="mt-3">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                        <textarea rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="Describe the project and your role...">${proj.description || ''}</textarea>
                    </div>
                    <div class="mt-3">
                        <label class="block text-sm font-medium text-gray-700 mb-2">Project URL (optional)</label>
                        <input type="url" value="${proj.url || ''}" class="w-full px-3 py-2 border border-gray-300 rounded-lg" placeholder="https://github.com/yourproject">
                    </div>
                </div>
            `;
            container.insertAdjacentHTML('beforeend', projHtml);
        }

        // Skills management
        function addSkills() {
            const input = document.getElementById('skillsInput');
            const skills = input.value.split(',').map(skill => skill.trim()).filter(skill => skill);
            
            if (skills.length > 0) {
                const skillsDisplay = document.getElementById('skills-display');
                skills.forEach(skill => {
                    if (!resumeData.skills.includes(skill)) {
                        resumeData.skills.push(skill);
                        const skillElement = document.createElement('div');
                        skillElement.className = 'bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm flex items-center';
                        skillElement.innerHTML = `
                            ${skill}
                            <button onclick="removeSkill('${skill}')" class="ml-2 text-blue-600 hover:text-blue-800">
                                √ó
                            </button>
                        `;
                        skillsDisplay.appendChild(skillElement);
                    }
                });
                input.value = '';
                updatePreview();
            }
        }

        function removeSkill(skill) {
            resumeData.skills = resumeData.skills.filter(s => s !== skill);
            updateSkillsDisplay();
            updatePreview();
        }

        function updateSkillsDisplay() {
            const skillsDisplay = document.getElementById('skills-display');
            skillsDisplay.innerHTML = '';
            resumeData.skills.forEach(skill => {
                const skillElement = document.createElement('div');
                skillElement.className = 'bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm flex items-center';
                skillElement.innerHTML = `
                    ${skill}
                    <button onclick="removeSkill('${skill}')" class="ml-2 text-blue-600 hover:text-blue-800">
                        √ó
                    </button>
                `;
                skillsDisplay.appendChild(skillElement);
            });
        }

        function removeItem(button) {
            const item = button.closest('[data-id]');
            item.remove();
        }

        // Collect form data
        function collectFormData() {
            // Personal info
            resumeData.personal = {
                fullName: document.getElementById('fullName').value,
                jobTitle: document.getElementById('jobTitle').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                location: document.getElementById('location').value,
                linkedin: document.getElementById('linkedin').value,
                portfolio: document.getElementById('portfolio').value,
                summary: document.getElementById('summary').value
            };

            // Experiences
            resumeData.experiences = [];
            document.querySelectorAll('.experience-item').forEach(item => {
                const inputs = item.querySelectorAll('input, textarea');
                resumeData.experiences.push({
                    company: inputs[0].value,
                    position: inputs[1].value,
                    startDate: inputs[2].value,
                    endDate: inputs[3].value,
                    description: inputs[4].value
                });
            });

            // Education
            resumeData.education = [];
            document.querySelectorAll('.education-item').forEach(item => {
                const inputs = item.querySelectorAll('input');
                resumeData.education.push({
                    institution: inputs[0].value,
                    degree: inputs[1].value,
                    field: inputs[2].value,
                    graduationYear: inputs[3].value
                });
            });

            // Projects
            resumeData.projects = [];
            document.querySelectorAll('.project-item').forEach(item => {
                const inputs = item.querySelectorAll('input, textarea');
                resumeData.projects.push({
                    name: inputs[0].value,
                    technologies: inputs[1].value,
                    description: inputs[2].value,
                    url: inputs[3].value
                });
            });

            return resumeData;
        }

        // Update preview
        function updatePreview() {
            collectFormData();
            const preview = document.getElementById('resume-preview');
            
            let previewHtml = `
                <div class="preview-content">
                    <div class="text-center mb-6">
                        <h1 class="text-3xl font-bold text-gray-800">${resumeData.personal.fullName || 'Your Name'}</h1>
                        <p class="text-lg text-gray-600">${resumeData.personal.jobTitle || 'Professional Title'}</p>
                        <div class="flex justify-center gap-4 mt-2 text-sm text-gray-500">
                            ${resumeData.personal.email ? `<span>üìß ${resumeData.personal.email}</span>` : ''}
                            ${resumeData.personal.phone ? `<span>üìû ${resumeData.personal.phone}</span>` : ''}
                            ${resumeData.personal.location ? `<span>üìç ${resumeData.personal.location}</span>` : ''}
                        </div>
                        <div class="flex justify-center gap-4 mt-2">
                            ${resumeData.personal.linkedin ? `<span class="text-blue-600">LinkedIn</span>` : ''}
                            ${resumeData.personal.portfolio ? `<span class="text-blue-600">Portfolio</span>` : ''}
                        </div>
                    </div>

                    ${resumeData.personal.summary ? `
                    <div class="mb-6">
                        <h2 class="text-xl font-semibold border-b-2 border-gray-300 pb-2 mb-3">Professional Summary</h2>
                        <p class="text-gray-700">${resumeData.personal.summary}</p>
                    </div>
                    ` : ''}

                    ${resumeData.experiences.length > 0 ? `
                    <div class="mb-6">
                        <h2 class="text-xl font-semibold border-b-2 border-gray-300 pb-2 mb-3">Work Experience</h2>
                        ${resumeData.experiences.map(exp => `
                            <div class="mb-4">
                                <div class="flex justify-between items-start">
                                    <h3 class="font-semibold">${exp.position}</h3>
                                    <span class="text-sm text-gray-600">${exp.startDate} - ${exp.endDate || 'Present'}</span>
                                </div>
                                <p class="text-gray-600">${exp.company}</p>
                                <p class="text-gray-700 mt-2">${exp.description}</p>
                            </div>
                        `).join('')}
                    </div>
                    ` : ''}

                    ${resumeData.education.length > 0 ? `
                    <div class="mb-6">
                        <h2 class="text-xl font-semibold border-b-2 border-gray-300 pb-2 mb-3">Education</h2>
                        ${resumeData.education.map(edu => `
                            <div class="mb-4">
                                <div class="flex justify-between items-start">
                                    <h3 class="font-semibold">${edu.degree}</h3>
                                    <span class="text-sm text-gray-600">${edu.graduationYear}</span>
                                </div>
                                <p class="text-gray-600">${edu.institution}</p>
                                <p class="text-gray-700">${edu.field}</p>
                            </div>
                        `).join('')}
                    </div>
                    ` : ''}

                    ${resumeData.skills.length > 0 ? `
                    <div class="mb-6">
                        <h2 class="text-xl font-semibold border-b-2 border-gray-300 pb-2 mb-3">Skills</h2>
                        <div class="flex flex-wrap gap-2">
                            ${resumeData.skills.map(skill => `
                                <span class="bg-gray-100 text-gray-800 px-3 py-1 rounded-full text-sm">${skill}</span>
                            `).join('')}
                        </div>
                    </div>
                    ` : ''}

                    ${resumeData.projects.length > 0 ? `
                    <div class="mb-6">
                        <h2 class="text-xl font-semibold border-b-2 border-gray-300 pb-2 mb-3">Projects</h2>
                        ${resumeData.projects.map(proj => `
                            <div class="mb-4">
                                <h3 class="font-semibold">${proj.name}</h3>
                                <p class="text-sm text-gray-600">${proj.technologies}</p>
                                <p class="text-gray-700 mt-2">${proj.description}</p>
                                ${proj.url ? `<p class="text-sm text-blue-600 mt-1">${proj.url}</p>` : ''}
                            </div>
                        `).join('')}
                    </div>
                    ` : ''}
                </div>
            `;

            preview.innerHTML = previewHtml;
        }

        // Save resume to localStorage
        function saveResume() {
            collectFormData();
            localStorage.setItem('resumeData', JSON.stringify(resumeData));
            alert('Resume saved successfully!');
        }

        // Load resume from localStorage
        function loadResume() {
            const savedData = localStorage.getItem('resumeData');
            if (savedData) {
                resumeData = JSON.parse(savedData);
                
                // Fill personal info
                document.getElementById('fullName').value = resumeData.personal.fullName || '';
                document.getElementById('jobTitle').value = resumeData.personal.jobTitle || '';
                document.getElementById('email').value = resumeData.personal.email || '';
                document.getElementById('phone').value = resumeData.personal.phone || '';
                document.getElementById('location').value = resumeData.personal.location || '';
                document.getElementById('linkedin').value = resumeData.personal.linkedin || '';
                document.getElementById('portfolio').value = resumeData.personal.portfolio || '';
                document.getElementById('summary').value = resumeData.personal.summary || '';
                
                // Clear existing items
                document.getElementById('experience-container').innerHTML = '';
                document.getElementById('education-container').innerHTML = '';
                document.getElementById('projects-container').innerHTML = '';
                
                // Add experiences
                resumeData.experiences.forEach(exp => addExperience(exp));
                
                // Add education
                resumeData.education.forEach(edu => addEducation(edu));
                
                // Add projects
                resumeData.projects.forEach(proj => addProject(proj));
                
                // Update skills
                updateSkillsDisplay();
                
                updatePreview();
                alert('Resume loaded successfully!');
            } else {
                alert('No saved resume found.');
            }
        }

        // Clear form
        function clearForm() {
            if (confirm('Are you sure you want to clear all data?')) {
                document.querySelectorAll('input, textarea').forEach(input => {
                    if (input.id !== 'skillsInput') {
                        input.value = '';
                    }
                });
                document.getElementById('experience-container').innerHTML = '';
                document.getElementById('education-container').innerHTML = '';
                document.getElementById('projects-container').innerHTML = '';
                document.getElementById('skills-display').innerHTML = '';
                resumeData = {
                    personal: {},
                    experiences: [],
                    education: [],
                    skills: [],
                    projects: []
                };
                updatePreview();
            }
        }

        // Generate PDF
        function generatePDF() {
            updatePreview();
            
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            html2canvas(document.getElementById('resume-preview')).then(canvas => {
                const imgData = canvas.toDataURL('image/png');
                const imgWidth = doc.internal.pageSize.getWidth();
                const imgHeight = canvas.height * imgWidth / canvas.width;
                
                doc.addImage(imgData, 'PNG', 0, 0, imgWidth, imgHeight);
                doc.save('resume.pdf');
            });
        }

        // AI Enhancement (simulated)
        function enhanceContent() {
            const section = document.getElementById('enhanceSection').value;
            if (!section) {
                alert('Please select a section to enhance');
                return;
            }

            // Simulate AI enhancement (in a real app, this would call an API)
            const enhancements = {
                summary: "Consider starting with a strong action verb and quantifying your achievements. For example: 'Results-driven software engineer with 5+ years of experience developing scalable web applications, resulting in a 30% increase in user engagement.'",
                experience: "Use the STAR method (Situation, Task, Action, Result) to describe your experiences. Quantify results whenever possible (e.g., 'Improved performance by 40%', 'Reduced costs by $50K').",
                skills: "Group related skills together and consider adding proficiency levels. For technical roles, highlight specific frameworks and technologies relevant to the target position."
            };

            document.getElementById('enhancement-text').textContent = enhancements[section];
            document.getElementById('enhancement-result').classList.remove('hidden');
        }

        // Auto-save every 30 seconds
        setInterval(() => {
            if (Object.keys(resumeData.personal).length > 0) {
                saveResume();
            }
        }, 30000);

        // Add event listeners for auto-update
        document.querySelectorAll('input, textarea').forEach(input => {
            input.addEventListener('input', updatePreview);
        });
    </script>
</body>
</html>

